(this["webpackJsonpreact-countries-challenger"]=this["webpackJsonpreact-countries-challenger"]||[]).push([[0],{25:function(e,t,a){e.exports=a(55)},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),u=a.n(c),l=a(23),o=a(1),s=a(14),i=a.n(s),m=a(11),f=Object(n.createContext)({theme:"light",toggleDarkTheme:function(){}});function h(e){var t=e.children,a=Object(n.useState)({theme:"light"}),c=Object(m.a)(a,2),u=c[0],l=c[1],o=Object(n.useCallback)((function(){l((function(e){return{theme:"dark"===e.theme?"light":"dark"}}))}),[]),s=Object(n.useMemo)((function(){return{theme:u.theme,toggleDarkTheme:o}}),[u.theme,o]);return Object(n.useEffect)((function(){"dark"===u.theme?(document.body.classList.add("dark-mode"),document.body.classList.remove("light-mode")):(document.body.classList.add("light-mode"),document.body.classList.remove("dark-mode"))}),[u]),r.a.createElement(f.Provider,{value:s},t)}a(42);function d(){var e=Object(n.useContext)(f),t=e.theme,a=e.toggleDarkTheme,c="light"===t?{icon:"far fa-moon",text:"Dark Mode"}:{icon:"far fa-sun",text:"Light Mode"};return r.a.createElement("button",{onClick:a,className:"theme-switch"},r.a.createElement("i",{className:c.icon}),c.text)}a(43);function b(){return r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"Where in the world?"),r.a.createElement(d,null))}a(44);function p(e){var t=e.children;return r.a.createElement("div",{className:"container"},t)}a(45);function v(e){var t=e.placeholder,a=e.className,n=e.value,c=e.onChange;return r.a.createElement("label",{className:"input-search ".concat(a||"")},r.a.createElement("i",{className:"fas fa-search input-search__icon"}),r.a.createElement("input",{placeholder:t,className:"input-search__element",onChange:c,value:n}))}a(46);function E(e){var t=e.name,a=e.flag,n=e.population,c=e.region,u=e.capital;return r.a.createElement("div",{key:t,className:"country-card"},r.a.createElement("div",{className:"country-card__image"},r.a.createElement("img",{src:a,alt:"".concat(t," flag")})),r.a.createElement("div",{className:"country-card__content"},r.a.createElement("h2",{className:"country-card__title"},t),r.a.createElement("div",null,r.a.createElement("span",{className:"country-card__label"},"Population: "),r.a.createElement("span",{className:"country-card__value"},function(e){return e.toLocaleString()}(n))),r.a.createElement("div",null,r.a.createElement("span",{className:"country-card__label"},"Region: "),r.a.createElement("span",{className:"country-card__value"},c)),r.a.createElement("div",null,r.a.createElement("span",{className:"country-card__label"},"Capital: "),r.a.createElement("span",{className:"country-card__value"},u))))}a(47);function g(e){var t=e.search,a=e.loading,n=e.countries,c=e.makeSearch;return r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement(p,null,r.a.createElement(v,{placeholder:"Search for a country...",className:"home__input",value:t,onChange:function(e){return c(e.target.value)}}),function(e,t){if(e)return r.a.createElement("div",{className:"home--loading"},"Loading...");if(!t.length)return r.a.createElement("div",{className:"home--not-found"},r.a.createElement("div",null,"No countries found ",r.a.createElement("strong",null,":(")));return r.a.createElement("div",{className:"home"},t.map((function(e){return r.a.createElement(E,Object.assign({key:e.name},e))})))}(a,n)))}var j=a(6),k=a(7),O=a.n(k),y=a(10),N=a(21),_=a(22),x=function(e,t){return Object(y.a)(O.a.mark((function a(){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(e,Object(j.a)(Object(j.a)({},t),{},{method:"GET"}));case 2:return n=a.sent,a.next=5,n.json();case 5:if(a.t0=a.sent,a.t1=n,r={data:a.t0,response:a.t1},!n.ok){a.next=12;break}return a.abrupt("return",r);case 12:return a.abrupt("return",Promise.reject(r));case 13:case"end":return a.stop()}}),a)})))()},C=new(function(){function e(){Object(N.a)(this,e)}return Object(_.a)(e,[{key:"findAll",value:function(){var e=Object(y.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("https://restcountries.eu/rest/v2/all",t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"findByName",value:function(){var e=Object(y.a)(O.a.mark((function e(t,a){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("https://restcountries.eu/rest/v2/name/".concat(t),a);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}()),w={countries:[],loading:!1,search:void 0};function S(e){var t=e.location,a=e.history,c=function(){var e=Object(n.useState)(w),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useRef)(null),u=Object(n.useCallback)((function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},{loading:e})}))}),[]),l=Object(n.useCallback)((function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},{loading:!1,countries:e})}))}),[]),o=Object(n.useCallback)((function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},{search:e})}))}),[]);return{state:a,makeSearch:Object(n.useCallback)((function(e){var t;null===(t=c.current)||void 0===t||t.abort(),c.current=new AbortController;var a={signal:c.current.signal},n=function(e){e.then(l).then((function(){return c.current=null})).catch((function(){return l([])}))};u(!0),o(e),n(e?C.findByName(e,a):C.findAll(a))}),[l,u,o])}}(),u=c.state,l=c.makeSearch,o=Object(n.useMemo)((function(){return i.a.parse(t.search)}),[t.search]),s=Object(n.useCallback)((function(e){var n=e?{search:e}:{},r=i.a.stringifyUrl({url:t.pathname,query:n});a.push(r)}),[a,t.pathname]);return Object(n.useEffect)((function(){l(o.search)}),[o.search,l]),r.a.createElement(g,{search:o.search||"",countries:u.countries,loading:u.loading,makeSearch:s})}function L(){return r.a.createElement("div",null,"Country")}function M(){return r.a.createElement(l.a,{basename:"/react-countries-challenger"},r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:S}),r.a.createElement(o.a,{exact:!0,path:"/country",component:L})))}a(54);var D=function(){return r.a.createElement(h,null,r.a.createElement(M,null))};u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.e8eedda8.chunk.js.map
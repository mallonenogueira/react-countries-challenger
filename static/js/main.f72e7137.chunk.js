(this["webpackJsonpreact-countries-challenger"]=this["webpackJsonpreact-countries-challenger"]||[]).push([[0],{22:function(e,t,a){e.exports=a(40)},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),u=a.n(r),l=a(20),o=a(1),s=a(11),i=Object(n.createContext)({theme:"light",toggleDarkTheme:function(){}});function m(e){var t=e.children,a=Object(n.useState)({theme:"light"}),r=Object(s.a)(a,2),u=r[0],l=r[1],o=Object(n.useCallback)((function(){l((function(e){return{theme:"dark"===e.theme?"light":"dark"}}))}),[]),m=Object(n.useMemo)((function(){return{theme:u.theme,toggleDarkTheme:o}}),[u.theme,o]);return Object(n.useEffect)((function(){"dark"===u.theme?(document.body.classList.add("dark-mode"),document.body.classList.remove("light-mode")):(document.body.classList.add("light-mode"),document.body.classList.remove("dark-mode"))}),[u]),c.a.createElement(i.Provider,{value:m},t)}a(27);function d(){var e=Object(n.useContext)(i),t=e.theme,a=e.toggleDarkTheme,r="light"===t?{icon:"far fa-moon",text:"Dark Mode"}:{icon:"far fa-sun",text:"Light Mode"};return c.a.createElement("button",{onClick:a,className:"theme-switch"},c.a.createElement("i",{className:r.icon}),r.text)}a(28);function f(){return c.a.createElement("header",{className:"header"},c.a.createElement("h1",null,"Where in the world?"),c.a.createElement(d,null))}a(29);function h(e){var t=e.children;return c.a.createElement("div",{className:"container"},t)}a(30);function b(e){var t=e.placeholder,a=e.className,n=e.value,r=e.onChange;return c.a.createElement("label",{className:"input-search ".concat(a||"")},c.a.createElement("i",{className:"fas fa-search input-search__icon"}),c.a.createElement("input",{placeholder:t,className:"input-search__element",onChange:r,value:n}))}a(31);function p(e){var t=e.name,a=e.flag,n=e.population,r=e.region,u=e.capital;return c.a.createElement("div",{key:t,className:"country-card"},c.a.createElement("div",{className:"country-card__image"},c.a.createElement("img",{src:a,alt:"".concat(t," flag")})),c.a.createElement("div",{className:"country-card__content"},c.a.createElement("h2",{className:"country-card__title"},t),c.a.createElement("div",null,c.a.createElement("span",{className:"country-card__label"},"Population: "),c.a.createElement("span",{className:"country-card__value"},function(e){return e.toLocaleString()}(n))),c.a.createElement("div",null,c.a.createElement("span",{className:"country-card__label"},"Region: "),c.a.createElement("span",{className:"country-card__value"},r)),c.a.createElement("div",null,c.a.createElement("span",{className:"country-card__label"},"Capital: "),c.a.createElement("span",{className:"country-card__value"},u))))}a(32);function v(e){var t=e.search,a=e.countries,n=e.makeSearch;return c.a.createElement("div",null,c.a.createElement(f,null),c.a.createElement(h,null,c.a.createElement(b,{placeholder:"Search for a country...",className:"home__input",value:t,onChange:function(e){return n(e.target.value)}}),c.a.createElement("div",{className:"home"},a.map((function(e){return c.a.createElement(p,Object.assign({key:e.name},e))})))))}var E=a(6),g=a(7),j=a.n(g),k=a(10),O=a(18),y=a(19),_=function(e,t){return Object(k.a)(j.a.mark((function a(){var n,c;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(e,Object(E.a)(Object(E.a)({},t),{},{method:"GET"}));case 2:return n=a.sent,a.next=5,n.json();case 5:if(a.t0=a.sent,a.t1=n,c={data:a.t0,response:a.t1},!n.ok){a.next=12;break}return a.abrupt("return",c);case 12:return a.abrupt("return",Promise.reject(c));case 13:case"end":return a.stop()}}),a)})))()},N=new(function(){function e(){Object(O.a)(this,e)}return Object(y.a)(e,[{key:"findAll",value:function(){var e=Object(k.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("https://restcountries.eu/rest/v2/all");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"findByName",value:function(){var e=Object(k.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("https://restcountries.eu/rest/v2/name/".concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),x={countries:[],loading:!1,search:void 0};function C(){var e=function(e){var t=Object(n.useState)(Object(E.a)(Object(E.a)({},x),e)),a=Object(s.a)(t,2),c=a[0],r=a[1],u=Object(n.useCallback)((function(e){r((function(t){return Object(E.a)(Object(E.a)({},t),{},{loading:e})}))}),[]),l=Object(n.useCallback)((function(e){r((function(t){return Object(E.a)(Object(E.a)({},t),{},{loading:!1,countries:e})}))}),[]),o=Object(n.useCallback)((function(e){r((function(t){return Object(E.a)(Object(E.a)({},t),{},{search:e})}))}),[]),i=Object(n.useCallback)((function(e){u(!0),o(e),e?N.findByName(e).then(l):N.findAll().then(l)}),[l,u,o]);return Object(n.useEffect)((function(){i()}),[i]),{state:c,makeSearch:i}}({search:""}),t=e.state,a=e.makeSearch;return c.a.createElement(v,{search:t.search||"",countries:t.countries,loading:t.loading,makeSearch:a})}function w(){return c.a.createElement("div",null,"Country")}function S(){return c.a.createElement(l.a,{basename:"/react-countries-challenger"},c.a.createElement(o.c,null,c.a.createElement(o.a,{exact:!0,path:"/",component:C}),c.a.createElement(o.a,{exact:!0,path:"/country",component:w})))}a(39);var L=function(){return c.a.createElement(m,null,c.a.createElement(S,null))};u.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(L,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.f72e7137.chunk.js.map